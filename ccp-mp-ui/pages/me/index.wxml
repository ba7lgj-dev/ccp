<view class="page">
  <scroll-view scroll-y="true" class="scroll">
    <view class="header">
      <image class="avatar" src="{{userInfo.avatarUrl || '/assets/default-school.png'}}" mode="aspectFill" bindtap="goEditProfile"></image>
      <view class="header-info">
        <view class="nick">{{userInfo.nickName || '未设置昵称'}}</view>
        <view class="status-line">
          <text class="status">实名：{{userInfo.realAuthStatus == 2 ? '已认证' : '未认证'}}</text>
          <text class="status">手机号：{{userInfo.phone ? '已绑定' : '未绑定'}} </text>
          <text class="link" bindtap="goEditProfile">查看资料 ></text>
        </view>
      </view>
    </view>

    <view class="card">
      <view class="menu-item" bindtap="handleSchoolTap">
        <view class="menu-text">
          <view class="title">当前学校</view>
          <view class="sub">{{schoolName ? schoolName : '未选择'}}{{campusName ? ' / ' + campusName : ''}}</view>
        </view>
        <text class="arrow">></text>
      </view>
      <view class="menu-item" bindtap="goEditProfile">
        <view class="menu-text">
          <view class="title">编辑个人资料</view>
          <view class="sub">头像、昵称、性别等</view>
        </view>
        <text class="arrow">></text>
      </view>
      <view class="menu-item" bindtap="goEmergencyContact">
        <view class="menu-text">
          <view class="title">紧急联系人</view>
          <view class="sub">添加家人或朋友电话，提升出行安全</view>
        </view>
        <text class="arrow">></text>
      </view>
      <view class="menu-item" bindtap="goRoutes">
        <view class="menu-text">
          <view class="title">我的常用路线</view>
          <view class="sub">快速选择经常拼车的路线</view>
        </view>
        <text class="arrow">></text>
      </view>
      <view class="menu-item" bindtap="goOrders">
        <view class="menu-text">
          <view class="title">我的订单</view>
          <view class="sub">查看历史拼车记录与评价</view>
        </view>
        <text class="arrow">></text>
      </view>
    </view>

    <view class="footer">
      <button class="logout" type="warn" bindtap="onLogout">退出登录</button>
    </view>
  </scroll-view>
</view>
